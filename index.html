<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Scanner with Task Execution</title>
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <style>
        #reader {
            width: 100%;
            height: 400px;
            border: 1px solid black;
        }
        #scannedData {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }
        #otherTask {
            margin-top: 20px;
            font-size: 18px;
            color: green;
        }
    </style>
</head>
<body>
    <h1>Scan QR Code</h1>

    <!-- Display QR Code Scanner -->
    <div id="reader"></div>

    <!-- Display Scanned Data -->
    <div id="scannedData">Scanned Data will appear here...</div>

    <!-- Display Other Tasks or Actions -->
    <div id="otherTask">
        <!-- Placeholder for tasks that can be triggered after scanning -->
    </div>

    <script>
        function onScanSuccess(decodedText, decodedResult) {
            // Display the scanned data on the webpage
            document.getElementById("scannedData").textContent = "Scanned Data: " + decodedText;

            // Perform other tasks based on the scanned data
            performOtherTasks(decodedText);
        }

        function onScanError(errorMessage) {
            // Handle any errors that occur during scanning
            console.log(errorMessage);
        }

        function performOtherTasks(data) {
            // Example of performing a task after scanning the QR code
            // You can customize this to perform any task you need

            let taskMessage = "No task defined for this data.";
            
            // Define tasks based on the scanned data
            if (data === "12345") {
                taskMessage = "You scanned a special QR code! Performing special task...";
                // Example of performing a specific task
                alert("Special task executed for code 12345!");
            } else if (data === "67890") {
                taskMessage = "You scanned another special QR code!";
                // Example: Perform a different task for this code
                document.body.style.backgroundColor = "#f0f8ff"; // Change background color
            } else {
                taskMessage = "QR code scanned. Performing general task...";
                // Example: Log the scanned data or any other task
                console.log("General task for data: " + data);
            }

            // Display the task message
            document.getElementById("otherTask").textContent = taskMessage;

            // You can add additional actions here, such as:
            // - Updating UI elements
            // - Calling an API
            // - Navigating to another page
        }

        // Initialize QR Code Scanner
        let html5QrcodeScanner = new Html5QrcodeScanner("reader", {
            fps: 10,
            qrbox: 250
        });
        html5QrcodeScanner.render(onScanSuccess, onScanError);
    </script>
</body>
</html>
